{"version":3,"sources":["mvvm.min.js","/source/mvvm.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"Directive","defaultBreakNext","defaultPriority","createDirective","generater","el","args","keyPath","formatters","options","this","apply","breakNext","priority","prototype","render","destroy","module",2,"directives",3,"global","View","window","mvvm","./directive","./global","./view",4,"toString","forEach","name","obj","removeFromArray","item","array","len","splice",5,"parser","element","callback","firstChild","nextSibling","rootElement","Object","assign","withDirectives","withFormatters","directiveIntances","uitls","isString","withTemplate","innerHTML","states","handler","setStates","bind","build","directiveSplitRegExp","formatterSplitRegExp","nodeType","bindDirective","match","attributes","directiveArgs","trim","split","directiveName","shift","formatterNames","value","formatter","map","formatterName","hasOwnProperty","push","directive","sort","one","otherOne","./utils"],"mappings":"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","file":"mvvm.min.js","sourcesContent":["!function t(i,e,r){function n(s,a){if(!e[s]){if(!i[s]){var c=\"function\"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error(\"Cannot find module '\"+s+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var f=e[s]={exports:{}};i[s][0].call(f.exports,function(t){var e=i[s][1][t];return n(e?e:t)},f,f.exports,t,i,e,r)}return e[s].exports}for(var o=\"function\"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,i){function e(){}var r=!1,n=500;e.createDirective=function(t){function i(i,e,r,n,o){this.el=i,this.options=o,this.keyPath=r,t.apply(this,e)}return i.breakNext=options[\"break\"]||r,i.priority=options.priority||n,i.prototype.render=function(){},i.prototype.destroy=function(){},i},i.exports=e},{}],2:[function(t,i){i.exports={directives:{}}},{}],3:[function(t){var i=t(\"./global\"),e=t(\"./view\"),r=t(\"./directive\");window.mvvm={global:i,View:e,Directive:r}},{\"./directive\":1,\"./global\":2,\"./view\":5}],4:[function(t,i,e){[\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\",\"Error\"].forEach(function(t){e[\"is\"+t]=function(i){return toString.call(i)===\"[object \"+t+\"]\"}}),e.removeFromArray=function(t,i){for(var e=0,r=i.length;r>e;e++)i[e]===t&&(i.splice(e--,1),r--)}},{}],5:[function(t,i){function e(t,i){t&&(i(t)&&t.firstChild&&e(t.firstChild),t.nextSibling&&e(t.nextSibling))}function r(t,i,e){this.rootElement=t,this.directives=Object.assign({},n.directives,e.withDirectives),this.formatters=Object.assign({},n.formatters,e.withFormatters),this.directiveIntances=[],o.isString(e.withTemplate)&&(t.innerHTML=e.withTemplate),this.states={},this.handler={states:this.states,setStates:this.setStates.bind(this)},i.call(this.handler),this.build()}var n=t(\"./global\"),o=t(\"./utils\"),s=/\\s*\\.\\s*/,a=/\\s*\\|\\s*/;r.prototype={build:function(){e(rootElement,function(t){switch(t.nodeType){case 1:this.bindDirective(t)}})},setStates:function(){},bindDirective:function(t){for(var i,e=[],r=0,n=t.attributes;n>r;r++)if(i=name.match(t.attributes[r].name)&&i[1]){var o=i[1].trim.split(s),c=o.shift(),u=t.attributes[r].value.split(a),f=u.shift();formatter=u.map(function(t){return this.formatters[t]||function(){}}),this.directives.hasOwnProperty(c)&&e.push({directive:this.directives[c],args:o,keyPath:f,formatter:formatter})}e=e.sort(function(t,i){return i.directive.priority-t.directive.priority});for(var h,r=0,n=e.length;n>r&&(h=e.directive[r],this.directiveIntances.push(new h(t,e.args,e.keyPath,e.formatter,options)),!h.breakNext);r++);}},i.exports=r},{\"./global\":2,\"./utils\":4}]},{},[3]);\n//# sourceMappingURL=mvvm.min.js.map","!function t(i,e,r){function n(s,a){if(!e[s]){if(!i[s]){var c=\"function\"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error(\"Cannot find module '\"+s+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var f=e[s]={exports:{}};i[s][0].call(f.exports,function(t){var e=i[s][1][t];return n(e?e:t)},f,f.exports,t,i,e,r)}return e[s].exports}for(var o=\"function\"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,i){function e(){}var r=!1,n=500;e.createDirective=function(t){function i(i,e,r,n,o){this.el=i,this.options=o,this.keyPath=r,t.apply(this,e)}return i.breakNext=options[\"break\"]||r,i.priority=options.priority||n,i.prototype.render=function(){},i.prototype.destroy=function(){},i},i.exports=e},{}],2:[function(t,i){i.exports={directives:{}}},{}],3:[function(t){var i=t(\"./global\"),e=t(\"./view\"),r=t(\"./directive\");window.mvvm={global:i,View:e,Directive:r}},{\"./directive\":1,\"./global\":2,\"./view\":5}],4:[function(t,i,e){[\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\",\"Error\"].forEach(function(t){e[\"is\"+t]=function(i){return toString.call(i)===\"[object \"+t+\"]\"}}),e.removeFromArray=function(t,i){for(var e=0,r=i.length;r>e;e++)i[e]===t&&(i.splice(e--,1),r--)}},{}],5:[function(t,i){function e(t,i){t&&(i(t)&&t.firstChild&&e(t.firstChild),t.nextSibling&&e(t.nextSibling))}function r(t,i,e){this.rootElement=t,this.directives=Object.assign({},n.directives,e.withDirectives),this.formatters=Object.assign({},n.formatters,e.withFormatters),this.directiveIntances=[],o.isString(e.withTemplate)&&(t.innerHTML=e.withTemplate),this.states={},this.handler={states:this.states,setStates:this.setStates.bind(this)},i.call(this.handler),this.build()}var n=t(\"./global\"),o=t(\"./utils\"),s=/\\s*\\.\\s*/,a=/\\s*\\|\\s*/;r.prototype={build:function(){e(rootElement,function(t){switch(t.nodeType){case 1:this.bindDirective(t)}})},setStates:function(){},bindDirective:function(t){for(var i,e=[],r=0,n=t.attributes;n>r;r++)if(i=name.match(t.attributes[r].name)&&i[1]){var o=i[1].trim.split(s),c=o.shift(),u=t.attributes[r].value.split(a),f=u.shift();formatter=u.map(function(t){return this.formatters[t]||function(){}}),this.directives.hasOwnProperty(c)&&e.push({directive:this.directives[c],args:o,keyPath:f,formatter:formatter})}e=e.sort(function(t,i){return i.directive.priority-t.directive.priority});for(var h,r=0,n=e.length;n>r&&(h=e.directive[r],this.directiveIntances.push(new h(t,e.args,e.keyPath,e.formatter,options)),!h.breakNext);r++);}},i.exports=r},{\"./global\":2,\"./utils\":4}]},{},[3]);\n//# sourceMappingURL=mvvm.min.js.map"],"sourceRoot":"/source/"}